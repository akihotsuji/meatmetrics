# 開発知識・学び集 📚

## 2024 年 12 月 19 日

### 完了した作業

- 技術スタック定義の完了
- ディレクトリ構造設計の完了
- DDD 設計思想・実装ルールの定義完了
- アプリケーション要件定義の完了
- 機能仕様書の作成完了
- データベース設計書の作成完了
- リリースタスク一覧の作成完了
- 全体タスク管理ファイルの作成完了
- 機能別タスク管理ファイルの作成完了
- 翌日タスク計画の作成完了

### 重要な学び

#### 1. プロジェクト設計の段階的アプローチ

- **設計 → 実装 → テスト**の順序が重要
- 基盤設計が完了してから実装に移ることで、後戻りを防げる
- ドキュメント先行アプローチにより、チーム内での認識統一が図れる

#### 2. DDD（ドメイン駆動設計）の実装ルール

- **依存関係の方向**: プレゼンテーション → アプリケーション → ドメイン ← インフラストラクチャ
- **ドメイン層の独立性**: ビジネスロジックは技術的な詳細から独立させる
- **レイヤー間の責任分離**: 各レイヤーの役割を明確に定義する

#### 3. 技術スタック選定のポイント

- **開発効率**: Tailwind CSS + shadcn/ui の組み合わせで開発速度向上
- **状態管理**: TanStack Query（サーバー状態）と Zustand（グローバル状態）の使い分け
- **段階的導入**: 必須機能と後から追加可能な機能の区別

#### 4. タスク管理の重要性

- **フェーズ別管理**: 9 つのフェーズに分けた段階的アプローチ
- **優先度設定**: MVP 機能を最優先に、段階的に機能拡張
- **進捗可視化**: 完了・進行中・未着手の明確な区分

### 躓きポイント・解決策

#### 1. ファイル移動時の注意点

- **問題**: `mkdir -p`コマンドで不可視文字が混入
- **解決策**: コマンドを再実行し、必要に応じてフラグを調整
- **学び**: Windows 環境でのコマンド実行時は、不可視文字に注意

#### 2. 技術スタックのバージョン管理

- **問題**: ユーザーの指定バージョンと異なるバージョンを提案
- **解決策**: ユーザーの明示的な指定を尊重し、変更は承認を得てから実施
- **学び**: 技術スタックの変更は必ず事前確認が必要

#### 3. 設計書の配置場所

- **問題**: DDD 内容を`directorystructure.md`に追加しようとした
- **解決策**: ユーザーの指示により`global.mdc`に正しく配置
- **学び**: 設計思想は設定ファイル、実装詳細は設計書という使い分け

### 今後の注意点

#### 1. 開発環境構築

- Windows 環境での Docker 設定に注意
- 各ツールのバージョン互換性を事前確認
- 段階的な環境構築と動作確認

#### 2. 実装時の DDD 遵守

- レイヤー間の依存関係を厳格に管理
- ドメイン層の独立性を保つ
- 命名規則の一貫性維持

#### 3. タスク管理の継続

- 日次での進捗確認と更新
- 課題発生時の早期対応
- リスクの事前予測と対策

---

## 技術的知見

### Spring Boot + React 開発

- **モノレポ構成**: バックエンド・フロントエンド・インフラの一元管理
- **DDD 実装**: パッケージ構造とレイヤー分離の重要性
- **API 設計**: フロントエンド・バックエンド間の整合性確保

### データベース設計

- **PostgreSQL + JSONB**: 柔軟なデータ構造とパフォーマンスの両立
- **Flyway**: バージョン管理されたデータベースマイグレーション
- **パーティショニング**: 大量データ処理時のパフォーマンス最適化

### フロントエンド開発

- **TypeScript**: 型安全性と開発効率の向上
- **Tailwind CSS**: ユーティリティファーストの CSS 設計
- **shadcn/ui**: 再利用可能なコンポーネントライブラリ

---

**最終更新**: 2024 年 12 月 19 日  
**更新者**: 開発チーム  
**次回更新予定**: 開発環境構築完了後
