# MeatMetrics 全体タスク管理 📋

## プロジェクト概要

**アプリケーション名**: MeatMetrics  
**目的**: カーニボア専用の栄養成分計算アプリ  
**主要機能**: ユーザー登録、食材検索、栄養計算、進捗追跡  
**技術スタック**: Spring Boot (Java 17) + React + PostgreSQL + AWS

---

## 全体タスク一覧

### 🏗️ **Phase 1: 基盤構築** - 進行中

**優先度**: 高  
**予想完了日**: 2024 年 12 月下旬  
**担当者**: 開発チーム

#### 完了済みタスク ✅

- [x] 技術スタック定義 (`technologystack.md`)
- [x] ディレクトリ構造設計 (`directorystructure.md`)
- [x] DDD 設計思想・実装ルール定義（ルール分離完了）
  - [x] `global.mdc` のスリム化（全体運用ルールへ集約）
  - [x] `ddd.mdc` / `tdd.mdc` の新設
  - [x] API 個別設計ドキュメント雛形の整備（`docs/2_detail/api/*.md`）
  - [x] テスト運用ガイドの整備（`docs/2_detail/testing/README.md`）
  - [x] インフラ設計書の整備（`docs/2_detail/10_infrastructure.md`）
  - [x] CI/CD 設計書の整備（`docs/2_detail/11_ci_cd.md`）
- [x] アプリケーション要件定義 (`docs/requirements.md`)
- [x] 機能仕様書作成 (`docs/detail/feature_specifications.md`)
- [x] データベース設計書作成 (`docs/detail/database_design.md`)
- [x] リリースタスク一覧作成 (`task.md`)

##### インフラ（Docker）

- [x] Docker 構成の dev/prod 分離（`infrastructure/docker/dev|prod/docker-compose.yml`）
- [x] PostgreSQL を Dockerfile 化し dev/prod でビルド切替（`infrastructure/docker/postgres/`）
- [x] 本番では DB ポート非公開、開発のみ `15432:5432` 公開に統一
- [x] ルート `infrastructure/docker/docker-compose.yml` を廃止
- [x] 手順書・記事の更新（`docs/docker/*.md`, `docs/99.Qiita/Dockerによる開発環境コンテナ化.md`）

#### 完了済みタスク ✅

- [x] 開発環境の構築
  - [x] Java 17 + Spring Boot 環境
  - [x] Node.js + React 環境
  - [x] PostgreSQL + Docker 環境
  - [x] IDE・ツール設定

#### 進行中タスク 🔄

- [ ] プロジェクト構造構築
  - [ ] バックエンド基盤
  - [ ] フロントエンド基盤
- [ ] データベース設計・構築
  - [ ] データベーススキーマ作成
  - [ ] 初期データ投入
  - [ ] マイグレーション設定

##### インフラ（フォローアップ）

- [ ] CI/CD の Compose 参照先を `infrastructure/docker/prod` に統一
- [ ] 監視・バックアップ手順の doc 追記（DB バックアップ、ボリュームバックアップ）
- [ ] `.env` の管理方針明確化（本番は Secrets 管理を前提）

### 🔐 **Phase 2: 認証・ユーザー管理 (MVP)** - 未着手

**優先度**: 高  
**予想完了日**: 2025 年 1 月上旬  
**担当者**: 開発チーム

#### 未着手タスク ⏳

- [ ] 認証システム（メール確認なし）
  - [ ] ユーザー登録（email, password, username）
  - [ ] ログイン・ログアウト（JWT）
  - [ ] JWT トークン発行/更新/失効
  - [ ] パスワード変更（ログイン中、現在パスワード必須）
- [ ] ユーザープロフィール（MVP 最小）
  - [ ] プロフィール表示・編集（最小項目）
  - [ ] 栄養目標設定 API（calorie, protein_g, fat_g, net_carbs_g）
  - [ ] 個人設定管理（拡張）
  - [ ] パスワードリセット（メール送信）・メール認証（拡張）

### 🥩 **Phase 3: 食材管理システム (MVP)** - 未着手

**優先度**: 高  
**予想完了日**: 2025 年 1 月中旬  
**担当者**: 開発チーム

#### 未着手タスク ⏳

- [ ] 食材データベース
  - [ ] 食材情報の管理
  - [ ] 栄養成分データの管理（マクロ中心）
  - [ ] カテゴリ分類システム（親子包含）
  - [ ] タグ付与（複数タグ: 例 乳製品/低糖質/低価格）
  - [ ] DB: foods.tags TEXT[] 追加 + GIN インデックス作成
- [ ] 食材検索機能
  - [ ] キーワード検索（部分一致）
  - [ ] カテゴリ検索（親=タグで子カテゴリ包含）
  - [ ] 複数タグ検索（AND）
  - [ ] 栄養成分での絞り込み（拡張）
  - [ ] お気に入り機能（拡張）

### 🧮 **Phase 4: 栄養計算エンジン (MVP)** - 未着手

**優先度**: 高  
**予想完了日**: 2025 年 1 月下旬  
**担当者**: 開発チーム

#### 未着手タスク ⏳

- [ ] 基本計算機能（アプリ側）
  - [ ] マクロ 4 種の集計: calories/protein/fat/net_carbs
  - [ ] net_carbs = carbohydrates - fiber
  - [ ] 目標値との比較（達成率算出）
- [ ] API（MVP）
  - [ ] 食事記録 API: GET/POST/PUT/DELETE `/api/meals`
  - [ ] サマリー API: GET `/api/summary?date=YYYY-MM-DD`
  - [ ] 目標 API: GET/PUT `/api/users/goals`
  - [ ] パスワード変更 API: PUT `/api/users/password`
- [ ] 食事記録機能
  - [ ] 食事の記録・編集（g 単位のみ）
  - [ ] 栄養成分の集計（total_nutrition に 4 種保持）
  - [ ] 食事テンプレート機能（拡張）

### 📊 **Phase 5: 進捗追跡・分析** - 未着手

**優先度**: 中  
**予想完了日**: 2025 年 2 月上旬  
**担当者**: 開発チーム

#### 未着手タスク ⏳

- [ ] ダッシュボード
  - [ ] 栄養摂取状況の可視化（週/月は拡張）
  - [ ] 目標達成率の表示
  - [ ] トレンド分析（拡張）
- [ ] レポート機能
  - [ ] 日別・週別・月別レポート
  - [ ] 栄養成分別分析
  - [ ] 進捗データのエクスポート

### 🎨 **Phase 6: UI/UX 改善** - 未着手

**優先度**: 中  
**予想完了日**: 2025 年 2 月中旬  
**担当者**: 開発チーム

#### 未着手タスク ⏳

- [ ] ユーザビリティ向上
  - [ ] レスポンシブデザイン対応
  - [ ] アクセシビリティ改善
  - [ ] パフォーマンス最適化
- [ ] ユーザー体験向上
  - [ ] 直感的な操作フロー
  - [ ] エラーハンドリング改善
  - [ ] ヘルプ・チュートリアル機能

### ✅ **Phase 7: テスト・品質保証** - 未着手

**優先度**: 中  
**予想完了日**: 2025 年 2 月下旬  
**担当者**: 開発チーム

#### 未着手タスク ⏳

- [ ] テスト実装
  - [ ] ユニットテスト
  - [ ] 統合テスト
  - [ ] E2E テスト
  - [ ] パフォーマンステスト
- [ ] 品質管理
  - [ ] コードレビュー
  - [ ] セキュリティチェック
  - [ ] バグ修正・改善

### 🚀 **Phase 8: 本番環境構築** - 未着手

**優先度**: 低  
**予想完了日**: 2025 年 3 月上旬  
**担当者**: 開発チーム

#### 未着手タスク ⏳

- [ ] インフラ構築
  - [ ] AWS 環境構築
  - [ ] CI/CD パイプライン構築
  - [ ] 監視・ログ設定
- [ ] デプロイ・運用
  - [ ] 本番環境デプロイ
  - [ ] 運用監視設定
  - [ ] バックアップ・復旧設定

### 📦 **Phase 9: リリース準備** - 未着手

**優先度**: 低  
**予想完了日**: 2025 年 3 月中旬  
**担当者**: 開発チーム

#### 未着手タスク ⏳

- [ ] 最終調整
  - [ ] 最終テスト・動作確認
  - [ ] ドキュメント整備
  - [ ] ユーザーガイド作成
- [ ] リリース
  - [ ] 本番リリース
  - [ ] ユーザーサポート準備
  - [ ] フィードバック収集体制構築

---

## 技術的課題・依存関係

### 現在の課題

- なし（基盤構築フェーズ完了）

### 今後の課題予想

- **Phase 2**: Spring Security + JWT 実装、パスワード変更フロー
- **Phase 3**: foods.tags 設計/付与運用、親子カテゴリの包含検索
- **Phase 4**: net_carbs 算出精度、サマリーのキャッシュ戦略（必要時）
- **Phase 5**: 週/月集計のパフォーマンス最適化

### 外部依存

- 食材栄養成分データベース（標準栄養成分表等）
- AWS サービス（本番環境構築時）

---

## リスク管理

### 高リスク項目

- 食材データの品質と正確性
- 栄養計算アルゴリズムの精度
- セキュリティ（認証・認可）

### 中リスク項目

- パフォーマンス（大量データ処理）
- ユーザビリティ（直感的な操作）
- データ整合性

### 低リスク項目

- インフラ構築（AWS 標準サービス）
- CI/CD（GitHub Actions 標準機能）

---

## 進捗サマリー

### 全体進捗

- **完了**: 8/9 フェーズ（88.9%）
- **進行中**: 1/9 フェーズ（11.1%）
- **未着手**: 0/9 フェーズ（0%）

### 主要マイルストーン

- ✅ **2024 年 12 月**: 基盤構築（設計・ドキュメント）
- 🎯 **2025 年 1 月**: MVP 機能完成（Phase 2-4: 認証・検索・食事記録・サマリー・目標）
- 🎯 **2025 年 2 月**: 機能拡張・品質向上（Phase 5-7）
- 🎯 **2025 年 3 月**: 本番リリース（Phase 8-9）

---

**最終更新**: 2025 年 8 月 13 日  
**更新者**: 開発チーム  
**次回更新予定**: 2025 年 8 月 14 日（Phase 1/2 進捗確認）
