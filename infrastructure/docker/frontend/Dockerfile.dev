# React用Dockerfile (開発環境)
FROM node:22-bookworm-slim

WORKDIR /app

# 依存関係のインストール（lockfile尊重）
COPY package*.json ./
RUN npm ci

# ソースコードのコピー
COPY . .

# ホットリロードでのファイル監視を安定させるための環境変数（Docker上の開発時に有効）
ENV CHOKIDAR_USEPOLLING=true

# Vite のデフォルト開発ポート
EXPOSE 5173

# 開発サーバーの起動（ホットリロード対応）
CMD ["npm", "run", "dev", "--", "--host", "0.0.0.0"]
